'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createGetPublicPath = exports.cacheDir = undefined;

var _findCacheDir = require('find-cache-dir');

var _findCacheDir2 = _interopRequireDefault(_findCacheDir);

var _get = require('lodash/get');

var _get2 = _interopRequireDefault(_get);

var _path = require('path');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var cacheDir = exports.cacheDir = (0, _findCacheDir2.default)({ name: 'autodll-webpack-plugin' });

var createGetPublicPath = exports.createGetPublicPath = function createGetPublicPath(compilerOptions, dllPath) {
  return function (filename) {
    var relative = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

    var base = (0, _get2.default)(compilerOptions, 'output.publicPath', '');
    var relativePath = (0, _path.join)(dllPath, filename);

    return relative ? relativePath : (0, _path.join)(base, relativePath);
  };
};